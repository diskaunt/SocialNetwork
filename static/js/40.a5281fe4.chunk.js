"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[40],{40:(e,s,o)=>{o.r(s),o.d(s,{default:()=>$});var t=o(249),i=o(3),l=o(43);const a="Profile_container__1Sg9h",n="Profile_profileInfo__LJqUs",r="Profile_preloader__7RneD",d="Profile_myPosts__hTTlS",c="MyPosts_myPostsContainer__Hf9dj",_="MyPosts_newPost__mL+9k",m="MyPosts_header__urevB",u="MyPosts_btnWrapper__HNZCE",h="MyPosts_posts__mYu28",f="MyPosts_post__SrZut",x="MyPosts_noPosts__TwtY3",v="Post_imgWrapper__UtjdP",j="Post_name__1poOt",p="Post_wallPost__yp9HR",g="Post_options__rgsAj",P="Post_optionsActive__vTXdJ",N="Post_menuBlock__OxkSh",b="Post_menuItem__+FLZQ",k="Post_postBtn__8tpEz",w="Post_svg__8oHPd",I="Post_likesCount__8oBcx",S="Post_date__ij+vh";var C=o(579);const y=function(e){return(0,C.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,C.jsx)("path",{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0142.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"})})},H=e=>(0,C.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,C.jsx)("g",{id:"more_horizontal_24__Page-2",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,C.jsxs)("g",{id:"more_horizontal_24__more_horizontal_24",children:[(0,C.jsx)("path",{id:"more_horizontal_24__Bounds",d:"M24 0H0v24h24z"}),(0,C.jsx)("path",{d:"M18 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm-6 4a2 2 0 0 1-2-2c0-1.1.9-2 2-2a2 2 0 0 1 2 2 2 2 0 0 1-2 2Zm-6 0a2 2 0 0 1-2-2c0-1.1.9-2 2-2a2 2 0 0 1 2 2 2 2 0 0 1-2 2Z",id:"more_horizontal_24__Mask",fill:"currentColor"})]})})}),F=(e,s,o)=>{const t=((e,s)=>{let o;return function(){for(var t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];clearInterval(o),o=setTimeout((()=>e(...i)),s)}})((o=>{e.current&&!e.current.contains(o.target)&&s()}),o);(0,l.useEffect)((()=>(document.addEventListener("mouseover",t),()=>{document.removeEventListener("mouseover",t)})))},M=e=>{let{src:s,name:o,date:t,deletePost:i,id:a,message:n,likesCount:r}=e;const[d,c]=(0,l.useState)(!1);let _=(0,l.useRef)(null);return F(_,(()=>c(!1)),500),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:v,children:(0,C.jsx)("img",{src:s,alt:"avatar"})}),(0,C.jsxs)("div",{className:j,children:[(0,C.jsx)("div",{children:o}),(0,C.jsx)("div",{className:S,children:t})]}),(0,C.jsxs)("div",{ref:_,onMouseOver:()=>c(!0),className:d?g+" "+P:g,children:[(0,C.jsx)(H,{}),(0,C.jsx)("div",{className:N,children:(0,C.jsx)("div",{onClick:()=>i(a),className:b,children:"Delete an entry"})})]}),(0,C.jsx)("div",{className:p,children:n}),(0,C.jsxs)("div",{className:k,children:[(0,C.jsx)(y,{className:w}),(0,C.jsx)("span",{className:I,children:r})]})]})},A=(0,l.memo)(M);var z=o(775),U=o(545),J=o(304);const T=e=>(0,C.jsx)("svg",{width:"56",height:"56",viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,C.jsx)("g",{id:"newsfeed_outline_56__Icons-56/newsfeed_outline_56",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,C.jsxs)("g",{id:"newsfeed_outline_56__newsfeed_outline_56",children:[(0,C.jsx)("path",{d:"M0 0h56v56H0z"}),(0,C.jsx)("path",{d:"M20.32 6H35.1c3.73.03 5.68.37 7.57 1.3l.42.21c1.9 1.01 3.39 2.5 4.4 4.4 1.04 1.96 1.45 3.85 1.5 7.58l.01.83V35.5c-.06 3.73-.47 5.62-1.51 7.58a10.59 10.59 0 0 1-4.4 4.4c-1.96 1.04-3.85 1.45-7.58 1.5l-.83.01H19.5c-3.73-.06-5.62-.47-7.58-1.51a10.59 10.59 0 0 1-4.4-4.4c-1.04-1.96-1.45-3.85-1.5-7.58L6 34.68V19.9c.03-3.73.37-5.68 1.3-7.57l.21-.42c1.01-1.9 2.5-3.39 4.4-4.4 1.96-1.04 3.85-1.45 7.58-1.5l.83-.01ZM46 20.91a1.5 1.5 0 0 1-.5.09h-36a1.5 1.5 0 0 1-.5-.09v14.51c.04 3.3.36 4.76 1.16 6.26a7.59 7.59 0 0 0 3.16 3.16c1.5.8 2.95 1.12 6.26 1.16h15.84c3.3-.04 4.76-.36 6.26-1.16a7.59 7.59 0 0 0 3.16-3.16c.8-1.5 1.12-2.95 1.16-6.26v-.74ZM34.68 9h-15.1c-3.3.04-4.76.36-6.26 1.16a7.59 7.59 0 0 0-3.16 3.16c-.67 1.25-1 2.47-1.11 4.75.14-.05.3-.07.45-.07h36c.16 0 .3.02.45.07-.11-2.28-.44-3.5-1.1-4.75a7.59 7.59 0 0 0-3.17-3.16c-1.6-.86-3.16-1.16-7-1.16Z",id:"newsfeed_outline_56__Icon-Color",fill:"currentColor",fillRule:"nonzero"})]})})}),D=e=>{let{posts:s,deletePost:o,profile:t,addPost:i}=e,l=[...s].reverse().map((e=>(0,C.jsx)("div",{className:f,children:(0,C.jsx)(A,{id:e.id,name:e.name||"name",date:e.date||"date",likesCount:e.likesCount,src:e.src||"https://i4.imageban.ru/out/2024/05/22/5fcfc3ee519160aab17e3a871818a423.jpeg",message:e.message,deletePost:o})},e.id)));return(0,C.jsxs)("div",{className:c,children:[(0,C.jsxs)("div",{className:_,children:[(0,C.jsx)("h3",{className:m,children:"My posts"}),(0,C.jsx)(R,{onSubmit:async e=>{await i(e.newPostText,t.fullName),e.newPostText=""}})]}),(0,C.jsx)("div",{className:h,children:s.length?l:(0,C.jsxs)("div",{className:x,children:[(0,C.jsx)(T,{}),(0,C.jsx)("div",{children:"There is not a single entry on the wall yet"})]})})]})},R=e=>{let{onSubmit:s}=e;return(0,C.jsx)(z.lV,{onSubmit:s,render:e=>{let{handleSubmit:s,form:o,submitting:t,pristine:i,value:l}=e;return(0,C.jsxs)("form",{onSubmit:s,children:[(0,C.jsx)(z.D0,{name:"newPostText",component:J.T,placeholder:"What's new for you?",type:"text",validate:(0,U.k3)(U.mw,(0,U.Ru)(100))}),(0,C.jsx)("div",{className:u,children:(0,C.jsx)("button",{type:"submit",disabled:o.error||i,children:"Add post"})})]})}})},Z=(0,l.memo)(D),B={overPageCover:"ProfileInfo_overPageCover__9ecwH",profileHeader:"ProfileInfo_profileHeader__-2xJT",profileHeaderImg:"ProfileInfo_profileHeaderImg__dx--A",wrapperImg:"ProfileInfo_wrapperImg__x9Xkv",profileInfo:"ProfileInfo_profileInfo__R98eH",fullName:"ProfileInfo_fullName__sKGM2",infoSection:"ProfileInfo_infoSection__30bQv",infoHeadline:"ProfileInfo_infoHeadline__dnjMz",info:"ProfileInfo_info__dyqk7",contacts:"ProfileInfo_contacts__gp5x5",infoName:"ProfileInfo_infoName__+ltDx",job:"ProfileInfo_job__WpoFO",statusField:"ProfileInfo_statusField__0uRjR",statusFildActive:"ProfileInfo_statusFildActive__KFZxU",statusFildStatic:"ProfileInfo_statusFildStatic__Wqx3g"},E=e=>{let{contacts:s}=e;return Object.keys(s).map((e=>s[e]?(0,C.jsxs)("div",{className:B.contacts,children:[(0,C.jsxs)("div",{className:B.infoName,children:[e,": "]}),(0,C.jsx)("div",{className:B.info,children:s[e]})]},e):""))},W=(0,l.memo)(E),L=e=>{let{lookingForAJob:s,lookingForAJobDescription:o}=e;return(0,C.jsx)("div",{className:B.info,children:(0,C.jsx)("div",{className:B.lookingForAJob,children:s?(0,C.jsxs)("div",{className:B.job,children:[(0,C.jsx)("div",{className:B.infoName,children:"looking for a job:"}),(0,C.jsx)("div",{children:"\u2714"}),(0,C.jsx)("div",{className:B.infoName,children:"kind of job:"}),(0,C.jsx)("div",{children:o})]}):(0,C.jsxs)("div",{className:B.job,children:[(0,C.jsx)("div",{className:B.infoName,children:"looking for a job:"}),(0,C.jsx)("div",{children:"\u2718"})]})})})},V=(0,l.memo)(L),O=e=>{let{status:s,updateUserStatus:o}=e;const[t,i]=(0,l.useState)(!1),[a,n]=(0,l.useState)(s);return(0,l.useEffect)((()=>{n(s)}),[s]),(0,C.jsx)("div",{className:B.statusField,children:t?(0,C.jsxs)("div",{className:B.statusFildActive,children:[(0,C.jsx)("input",{onChange:e=>n(e.target.value),autoFocus:!0,value:a}),(0,C.jsx)("button",{onClick:()=>{o(a),i(!t)},children:"Accept"}),(0,C.jsx)("button",{onClick:()=>i(!t),children:"Close"})]}):(0,C.jsx)("div",{className:B.statusFildStatic,children:(0,C.jsx)("span",{onDoubleClick:()=>i(!t),children:s||"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441..."})})})},q=(0,l.memo)(O),K=e=>{let{profile:{photos:s,fullName:o,aboutMe:t,contacts:i,lookingForAJob:l,lookingForAJobDescription:a},status:n,updateUserStatus:r}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:B.overPageCover,children:(0,C.jsx)("img",{src:s.large||"http://dummyimage.com/600x400",alt:"profile-background"})}),(0,C.jsxs)("div",{className:B.profileHeader,children:[(0,C.jsx)("div",{className:B.profileHeaderImg,children:(0,C.jsx)("div",{className:B.wrapperImg,children:(0,C.jsx)("img",{src:s.small||"http://dummyimage.com/140",alt:"avatar"})})}),(0,C.jsxs)("div",{className:B.profileInfo,children:[(0,C.jsx)("div",{className:B.fullName,children:o}),(0,C.jsx)(q,{status:n,updateUserStatus:r}),(0,C.jsxs)("div",{className:B.infoSection,children:[(0,C.jsx)("div",{className:B.infoHeadline,children:"About me:"}),(0,C.jsx)("div",{className:B.info,children:t})]}),(0,C.jsxs)("div",{className:B.infoSection,children:[(0,C.jsx)("div",{className:B.infoHeadline,children:"Contact information:"}),(0,C.jsx)(W,{contacts:i})]}),(0,C.jsxs)("div",{className:B.infoSection,children:[(0,C.jsx)("div",{className:B.infoHeadline,children:"Job information:"}),(0,C.jsx)(V,{lookingForAJob:l,lookingForAJobDescription:a})]})]})]})]})},Q=(0,l.memo)(K);var X=o(434);const Y=e=>{let{profilePage:{isFetching:s,profile:o,status:t,posts:i},updateUserStatus:l,addPost:c,deletePost:_,auth:m}=e;return(0,C.jsxs)("div",{className:a,children:[(0,C.jsx)("div",{className:n,children:null===o||s?(0,C.jsx)("div",{className:r,children:(0,C.jsx)(X.A,{})}):(0,C.jsx)(Q,{profile:o,status:t,updateUserStatus:l})}),(0,C.jsx)("div",{className:d,children:(null===m||void 0===m?void 0:m.userId)===(null===o||void 0===o?void 0:o.userId)?null===o||s?(0,C.jsx)("div",{className:r,children:(0,C.jsx)(X.A,{})}):(0,C.jsx)(Z,{posts:i,profile:o,addPost:c,deletePost:_}):" "})]})};var G=o(216);const $=(0,i.Ng)((e=>({profilePage:e.profilePage,auth:e.auth})),{addPost:t.SD,getUserProfile:t.VM,getUserStatus:t.CD,updateUserStatus:t.pU,deletePost:t.ys})((e=>{var s;let{getUserProfile:o,getUserStatus:t,auth:i,...a}=e,n=(0,G.g)().userId;return null!==(s=n)&&void 0!==s||(n=i.userId),(0,l.useEffect)((()=>{n&&o(n),n&&t(n)}),[n]),n?(0,C.jsx)(Y,{auth:i,...a}):(0,C.jsx)(G.C5,{to:"/login"})}))}}]);
//# sourceMappingURL=40.a5281fe4.chunk.js.map