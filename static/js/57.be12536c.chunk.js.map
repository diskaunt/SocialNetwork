{"version":3,"file":"static/js/57.be12536c.chunk.js","mappings":"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","sources":["webpack://react-kabzda-1/./src/components/Dialogs/Dialogs.module.css?1b2e","webpack://react-kabzda-1/./src/components/Dialogs/DialogItem/DialogItem.module.css?beb9","components/Dialogs/DialogItem/DialogItem.jsx","webpack://react-kabzda-1/./src/components/Dialogs/Message/Message.module.css?72d0","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__P9QVB\",\"dialogsItems\":\"Dialogs_dialogsItems__GHkAb\",\"messages\":\"Dialogs_messages__jluhN\",\"content\":\"Dialogs_content__mtwJX\",\"messagesElements\":\"Dialogs_messagesElements__PycBx\",\"chatInputForm\":\"Dialogs_chatInputForm__r8AlS\",\"btnWrapper\":\"Dialogs_btnWrapper__cRrq6\"};","// extracted by mini-css-extract-plugin\nexport default {\"dialog\":\"DialogItem_dialog__j8fbf\",\"active\":\"DialogItem_active__ss0sa\",\"ava\":\"DialogItem_ava__j8cfk\",\"name\":\"DialogItem_name__G+-KC\"};","import React from \"react\";\r\nimport classes from \"./DialogItem.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n  const path = \"/dialogs/\" + props.id;\r\n  return (\r\n    <div id={classes.key} className={classes.dialog}>\r\n      <NavLink\r\n        className={({ isActive }) => (isActive ? classes.active : \"\")}\r\n        to={path}\r\n      >\r\n        <div className={classes.ava}>\r\n          <img src={props.avatar} alt=\"ava\" />\r\n        </div>\r\n        <div className={classes.name}>{props.name}</div>\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogItem;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"message\":\"Message_message__asuSK\",\"ava\":\"Message_ava__QoGXy\",\"name\":\"Message_name__cg7j+\",\"date\":\"Message_date__1XDFC\",\"text\":\"Message_text__nAlzc\"};","import React from \"react\";\r\nimport classes from \"./Message.module.css\"\r\n\r\nconst Message = (props) => {\r\n\treturn (\r\n    <div className={classes.message}>\r\n      <div className={classes.ava}><img src={props.avatar} alt=\"ava\"/></div>\r\n      <div className={classes.name}>{props.name || 'name'}</div>\r\n\t\t\t<div className={classes.date}>{props.date}</div>\r\n      <div className={classes.text}>{props.message}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Message;","import React, { useEffect, useRef } from \"react\";\r\nimport classes from \"./Dialogs.module.css\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport { Field, Form } from \"react-final-form\";\r\nimport { Textarea } from \"../common/FormsControls/FormsControls\";\r\nimport { composeValidators, maxLength, required } from \"../../utils/validators/validators\";\r\n\r\nconst Dialogs = (props) => {\r\n  let dialogsElements = props.dialogsPage.dialogs.map((dialog) => (\r\n    <DialogItem\r\n      key={dialog.id}\r\n      id={dialog.id}\r\n      name={dialog.name || \"name\"}\r\n      avatar={\r\n        dialog.avatar ||\r\n        \"https://i5.imageban.ru/out/2024/04/23/1bb19e775b66a89851ce626a69603c73.png\"\r\n      }\r\n    />\r\n  ));\r\n\r\n  let messagesElements = props.dialogsPage.messages.map((message) => (\r\n    <Message\r\n      key={message.id}\r\n      message={message.message}\r\n      avatar={\r\n        message.avatar ||\r\n        \"https://i5.imageban.ru/out/2024/04/23/1bb19e775b66a89851ce626a69603c73.png\"\r\n      }\r\n\t\t\tdate={message.date}\r\n    />\r\n  ));\r\n\r\n  const scrollTo = useRef(undefined);\r\n\r\n  const onSubmit = async (values) => {\r\n\t\tawait props.addMessage(values.newMessageBody);\r\n    scrollTo.current.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n\t}\r\n\r\n  return (\r\n    <div className={classes.dialogs}>\r\n      <div className={classes.dialogsItems}>{dialogsElements}</div>\r\n      <div className={classes.messages}>\r\n        <div className={classes.content}>\r\n          <div className={classes.messagesElements}>{messagesElements}</div>\r\n          <AddMessageForm onSubmit={onSubmit} />\r\n          <div ref={scrollTo}></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AddMessageForm = (props) => {\r\n  useEffect(() => {\r\n\t\t// textarea.style.height = \"auto\";\r\n    // if (textarea.clientHeight < 54) {\r\n    //   textarea.style.height = 36 + \"px\";\r\n    // }\r\n    // if (textarea.scrollHeight > 201) {\r\n    //   textarea.style.overflow = \"auto\";\r\n    //   textarea.style.height = 201 + \"px\";\r\n    // } else {\r\n    //   textarea.style.overflow = \"hidden\";\r\n    //   textarea.style.height = textarea.scrollHeight + \"px\";\r\n    // }\r\n\t},[]);\r\n  return (\r\n\t\t<Form\r\n      onSubmit={props.onSubmit}\r\n      initialValues={{}}\r\n      render={({ handleSubmit, form, submitting, pristine, values }) => (\r\n        <form onSubmit={handleSubmit} className={classes.chatInputForm}>\r\n          <Field\r\n            name=\"newMessageBody\"\r\n            component={Textarea}\r\n\t\t\t\t\t\tvalidate={composeValidators(required, maxLength(100))}\r\n            type=\"text\"\r\n            placeholder=\"Write a message...\"\r\n          />\r\n          <div className={classes.btnWrapper}>\r\n            <button type=\"submit\" disabled={submitting || pristine}>\r\n              Send\r\n            </button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Dialogs;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  const RedirectComponent = (props) => {\r\n    if (!props.auth.isAuth) return <Navigate to={\"/login\"} />;\r\n    return <Component {...props} />;\r\n  };\r\n  const connectedRedirectComponent = connect(mapStateToPropsForRedirect)(\r\n    RedirectComponent\r\n  );\r\n  return connectedRedirectComponent;\r\n};\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n  auth: state.auth,\r\n});\r\n","import { connect } from \"react-redux\";\r\nimport {\r\n  addMessage,\r\n} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdialogsPage: state.dialogsPage,\r\n  };\r\n};\r\n\r\nexport default compose(withAuthRedirect,\r\n\tconnect(\r\n\t\tmapStateToProps,\r\n\t\t{addMessage}\r\n\t))(Dialogs)\r\n"],"names":["props","path","id","_jsx","classes","key","className","dialog","children","_jsxs","NavLink","_ref","isActive","active","to","ava","src","avatar","alt","name","date","message","AddMessageForm","useEffect","Form","onSubmit","initialValues","render","handleSubmit","form","submitting","pristine","values","Field","component","Textarea","validate","composeValidators","required","maxLength","type","placeholder","disabled","dialogsElements","dialogsPage","dialogs","map","DialogItem","messagesElements","messages","Message","scrollTo","useRef","undefined","async","addMessage","newMessageBody","current","scrollIntoView","behavior","block","ref","mapStateToPropsForRedirect","state","auth","compose","Component","connect","isAuth","Navigate","Dialogs"],"sourceRoot":""}