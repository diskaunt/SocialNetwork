"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[189],{177:(e,s,a)=>{a.d(s,{A:()=>i});a(43);const t="button_btn__yTdPR";var n=a(579);const i=e=>{let{children:s,disabled:a,type:i,handler:d}=e;return(0,n.jsx)("button",{type:i,disabled:a,className:t,onClick:d,children:s})}},88:(e,s,a)=>{a.d(s,{p:()=>o,T:()=>c});var t=a(43);const n="formsControls_errorText__Ntz7y",i="formsControls_error__dz7fn",d="formsControls_field__AORmK";var l=a(945),r=a(579);const c=e=>{let{input:s,meta:{error:a,touched:c},...o}=e;const m=(0,t.useRef)(null);(0,l.un)(m.current,o.validlength,o.entertern);const g=a&&c;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:g?i:d,children:(0,r.jsx)("textarea",{ref:m,...s,...o})}),(0,r.jsx)("span",{className:n,children:g?a:null})]})},o=e=>{let{input:s,meta:{error:a,submitError:t,touched:l},...c}=e;const o=(a||t)&&l;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:o?i:d,children:(0,r.jsx)("input",{...s,...c})}),(0,r.jsx)("span",{className:n,children:o?a||t:null})]})}},189:(e,s,a)=>{a.r(s),a.d(s,{default:()=>S});var t=a(43);const n="dialogs_dialogs__7c9r4",i="dialogs_dialogsItems__x-VZD",d="dialogs_messages__spNWx",l="dialogs_content__I58vd",r="dialogs_messagesElements__9qE3O",c="dialogs_newMessageForm__fD7wd",o="dialogs_newMessageFild__zf2Zk",m="dialogs_btnWrapper__xwxnk",g={dialog:"dialogItem_dialog__7gtwi",active:"dialogItem_active__ptWk1",ava:"dialogItem_ava__PJ+09",name:"dialogItem_name__9Ikfh"};var _=a(475),u=a(579);const v=e=>{const s="/dialogs/"+e.id;return(0,u.jsx)("div",{id:g.key,className:g.dialog,children:(0,u.jsxs)(_.k2,{className:e=>{let{isActive:s}=e;return s?g.active:""},to:s,children:[(0,u.jsx)("div",{className:g.ava,children:(0,u.jsx)("img",{src:e.avatar,alt:"ava"})}),(0,u.jsx)("div",{className:g.name,children:e.name})]})})},h="message_message__2yNNp",x="message_ava__9ves7",j="message_name__WfNhp",N="message_date__ctzK3",p="message_text__G5Je0",b=e=>{const s=e.date&&e.date.split(",")[1];return(0,u.jsxs)("div",{className:h,children:[(0,u.jsx)("div",{className:x,children:(0,u.jsx)("img",{src:e.avatar,alt:"ava"})}),(0,u.jsx)("div",{className:j,children:e.name||"name"}),(0,u.jsx)("div",{className:N,children:s}),(0,u.jsx)("div",{className:p,children:e.message})]})};var f=a(3),k=a(847),w=a(216);const y=e=>({auth:e.auth});var I=a(923),M=a(775),z=a(177),C=a(88);const P=e=>{let{onSendMessage:s}=e;return(0,u.jsx)(M.lV,{onSubmit:s,render:e=>{let{handleSubmit:s,form:a,submitting:t,pristine:n,values:i}=e;return(0,u.jsxs)("form",{onSubmit:s,className:c,children:[(0,u.jsx)(M.D0,{name:"newMessageBody",component:C.T,placeholder:"Write a message...",type:"text",className:o}),(0,u.jsx)("div",{className:m,children:(0,u.jsx)(z.A,{type:"submit",disabled:t||n,children:"Send"})})]})}})};const S=(0,I.Zz)((e=>(0,f.Ng)(y)((s=>s.auth.isAuth?(0,u.jsx)(e,{...s}):(0,u.jsx)(w.C5,{to:"/login"})))),(0,f.Ng)((e=>({dialogsPage:e.dialogsPage})),{sendMessage:k._}))((e=>{const{dialogId:s}=(0,w.g)(),a=parseInt(s||"0",10);(0,t.useEffect)((()=>{isNaN(a)}),[a]);let c=e.dialogsPage.dialogs.map((e=>(0,u.jsx)(v,{id:e.id,name:e.name||"name",avatar:e.avatar||"https://i5.imageban.ru/out/2024/04/23/1bb19e775b66a89851ce626a69603c73.png",messages:e.messages},e.id))),o=e.dialogsPage.dialogs[a].messages.map((e=>(0,u.jsx)(b,{id:e.id,message:e.message,avatar:e.avatar||"https://i5.imageban.ru/out/2024/04/23/1bb19e775b66a89851ce626a69603c73.png",date:e.date},e.id)));const m=(0,t.useRef)(null);return(0,u.jsxs)("div",{className:n,children:[(0,u.jsx)("div",{className:i,children:c}),(0,u.jsx)("div",{className:d,children:(0,u.jsxs)("div",{className:l,children:[(0,u.jsx)("div",{className:r,children:o}),(0,u.jsx)(P,{onSendMessage:async(s,t)=>{await e.sendMessage({id:a,newMessageBody:s.newMessageBody}),m.current&&m.current.scrollIntoView({behavior:"smooth",block:"start"}),t.reset()}}),(0,u.jsx)("div",{ref:m})]})})]})}))}}]);
//# sourceMappingURL=189.82c1217e.chunk.js.map