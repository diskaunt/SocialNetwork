"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[190],{190:(e,s,r)=>{r.r(s),r.d(s,{default:()=>Q});var n=r(43),t=r(3),a=r(124);const i="Users_container__iON7t",o="Users_pages__TIJcd",l="Users_header__ynEzn",c="Users_preloader__hkLru",d="Users_user__DRhcm",u="Users_menu__chxTl",h="Users_item__BZFkE",g="Users_btn__27-KZ",_="Users_active__2hDEj";var x=r(723);const j="User_userContainer__2AUtj",m="User_avatar__p6b+V",p="User_content__lTqfd",f="User_name__t4UjX",v="User_status__KaxPI",C="User_btn__EEMWC";var P=r(475),N=r(579);const b=e=>(0,N.jsx)("svg",{viewBox:"0 0 20 20",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,N.jsx)("path",{d:"M12.5 8.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5ZM8.5 6a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm-4-.25a.75.75 0 1 0-1.5 0v2H1a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2v-2Zm4.16 7.23c.86-.46 2.19-.73 3.84-.73s2.98.27 3.85.73c.79.42 1.15.96 1.15 1.7a.69.69 0 0 1-.05.3.33.33 0 0 1-.1.12c-.07.06-.25.15-.6.15h-8.5c-.35 0-.53-.1-.6-.16a.33.33 0 0 1-.1-.12.69.69 0 0 1-.05-.28c0-.75.36-1.3 1.16-1.71Zm3.84-2.23c-1.77 0-3.38.28-4.55.9S6 13.26 6 14.7c0 .69.27 1.22.69 1.56.4.34.95.5 1.55.5h8.52c.6 0 1.14-.16 1.55-.5.42-.34.69-.87.69-1.56 0-1.43-.78-2.42-1.95-3.04a9.96 9.96 0 0 0-4.55-.9Z"})});const w=function(e){return(0,N.jsxs)("svg",{fill:"currentColor",viewBox:"0 0 20 20",height:"1em",width:"1em",...e,children:[(0,N.jsx)("path",{fill:"currentColor",d:"M8.465 14.121a1 1 0 101.414 1.415l5.657-5.657a1 1 0 10-1.415-1.415l-5.656 5.657z"}),(0,N.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.343 17.657A8 8 0 1017.657 6.343 8 8 0 006.343 17.657zm9.9-1.414a6 6 0 11-8.486-8.485 6 6 0 018.486 8.485z",clipRule:"evenodd"})]})};var z=r(18);const k=e=>{let{user:{id:s,name:r,status:n,followed:t,photos:a},followingInProgress:i,follow:o,unfollow:l}=e,c=(0,z.A)(n,19);return(0,N.jsxs)("div",{className:j,children:[(0,N.jsx)("div",{className:m,children:(0,N.jsx)(P.N_,{to:"/profile/"+s,children:(0,N.jsx)("img",{src:a.large?a.large:"http://dummyimage.com/160",alt:""})})}),(0,N.jsxs)("div",{className:p,children:[(0,N.jsx)("div",{className:f,children:(0,N.jsx)(P.N_,{to:"/profile/"+s,children:r})}),(0,N.jsx)("div",{className:v,children:c}),(0,N.jsx)("div",{className:C,children:t?(0,N.jsx)("button",{disabled:i.some((e=>e===s)),onClick:()=>{l(s)},children:(0,N.jsx)(w,{})}):(0,N.jsx)("button",{disabled:i.some((e=>e===s)),onClick:()=>{o(s)},children:(0,N.jsx)(b,{})})})]})]})},S="Paginator_pagesWrapper__b8R42",U="Paginator_pages__IBHxv",M="Paginator_activePage__r02fH",I="Paginator_chevronIcons__Z3ELy",A="Paginator_invisability__VMOvR";const F=function(e){return(0,N.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",height:"1em",width:"1em",...e,children:(0,N.jsx)("path",{d:"M15 18l-6-6 6-6"})})};const E=function(e){return(0,N.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",height:"1em",width:"1em",...e,children:(0,N.jsx)("path",{d:"M9 18l6-6-6-6"})})},Z=e=>{let{onPageChanged:s=()=>{},currentPage:r=1,totalItemsCount:n,pageSize:t,portionSize:a=8,portionNumber:i=1,setPortionNumber:o=()=>{}}=e,l=Math.ceil(n/t),c=[];for(let g=1;g<=l;g++)c.push(g);let d=Math.ceil(l/a),u=(i-1)*a+1,h=i*a;return(0,N.jsxs)("div",{className:S,children:[(0,N.jsx)("button",{"data-testid":i>1?"chevron":null,className:i>1?I+" "+U:I+" "+U+" "+A,onClick:()=>{o((e=>e-1)),s(h-a)},children:(0,N.jsx)(F,{})}),l>1&&c.filter((e=>e>=u&&e<=h)).map((e=>(0,N.jsx)("button",{"data-testid":"pageNumber",onClick:()=>s(e),className:r===e?M+" "+U:U,children:e},e))),(0,N.jsx)("button",{"data-testid":i<d?"chevron":null,className:i<d?I+" "+U:I+" "+U+" "+A,onClick:()=>{o((e=>e+1)),s(u+a)},children:(0,N.jsx)(E,{})})]})},B="Search_searchContainer__fj3SY",L="Search_buttonWrapper__p+CjK",y="Search_inputWrapper__eksJ0";const R=function(e){return(0,N.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"100%",width:"100%",...e,children:(0,N.jsx)("path",{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"})})},W=e=>{let{search:s,placeHolderValue:r="",onSearch:t}=e;const a=(0,n.useRef)(null);return(0,N.jsxs)("div",{className:B,children:[(0,N.jsx)("div",{className:y,children:(0,N.jsx)("input",{ref:a,type:"text",value:s,placeholder:r,onChange:e=>{t(e.target.value)}})}),(0,N.jsx)("div",{className:L,children:(0,N.jsx)("button",{onClick:e=>{},children:(0,N.jsx)(R,{})})})]})},H=e=>{let{friend:s,setFriend:r,setPortionNumber:n}=e;const i=(0,t.wA)(),o=()=>{r(!s),i((0,a.Tm)(1)),n(1)};return(0,N.jsxs)("div",{className:u,children:[(0,N.jsx)("div",{className:h,children:(0,N.jsx)("button",{className:s?g+" "+_:g,onClick:o,children:"My friends"})}),(0,N.jsx)("div",{className:h,children:(0,N.jsx)("button",{className:s?g:g+" "+_,onClick:o,children:"Search for friends"})})]})};const q=e=>{let{totalUsersCount:s,pageSize:r,currentPage:t,isFetching:a,users:u,followingInProgress:h,search:g,friend:_,setFriend:j,follow:m,unfollow:p,onPageChanged:f,onSearch:v}=e,[C,P]=n.useState(1);return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:i,children:[(0,N.jsxs)("div",{className:o,children:[(0,N.jsx)("h1",{className:l,children:"Friends"}),(0,N.jsx)(W,{search:g,onSearch:v,placeHolderValue:"Enter a request"}),(0,N.jsx)("div",{className:d,children:a?(0,N.jsx)("div",{className:c,children:(0,N.jsx)(x.A,{})}):u.map((e=>(0,N.jsx)(k,{user:e,follow:m,unfollow:p,followingInProgress:h},e.id)))}),(0,N.jsx)(Z,{onPageChanged:f,currentPage:t,totalItemsCount:s,pageSize:r,portionNumber:C,setPortionNumber:P})]}),(0,N.jsx)(H,{friend:_,setFriend:j,setPortionNumber:P})]})})};const T=(0,r(99).Mz)((e=>e.usersPage.users),(e=>e.filter((e=>!0)))),V=e=>e.usersPage.pageSize,K=e=>e.usersPage.totalUsersCount,D=e=>e.usersPage.currentPage,J=e=>e.usersPage.isFetching,O=e=>e.usersPage.followingInProgress;var X=r(945),G=r(776),Y=r(216);const Q=(0,t.Ng)((e=>({auth:e.auth.userId,users:T(e),pageSize:V(e),totalUsersCount:K(e),currentPage:D(e),isFetching:J(e),followingInProgress:O(e)})),{follow:a.e6,unfollow:a.X2,requestUsers:a.AI})((e=>{let{auth:s,currentPage:r,pageSize:t,requestUsers:a,...i}=e;const[o,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(!0);n.useEffect((()=>{a({currentPage:r,pageSize:t,search:o,friend:c})}),[r,t,c]);return(0,X.Gi)((()=>a({currentPage:r,pageSize:t,search:o,friend:c})),[o],1500),(0,N.jsx)(G.A,{isAuthorize:!!s,components:{Authorized:(0,N.jsx)(q,{...i,currentPage:r,pageSize:t,search:o,friend:c,setFriend:d,onPageChanged:e=>{r!==e&&a({currentPage:e,pageSize:t})},onSearch:l}),Unauthorized:(0,N.jsx)(Y.C5,{to:"/login"})}})}))},776:(e,s,r)=>{r.d(s,{A:()=>n});const n=e=>{let{isAuthorize:s,components:{Authorized:r,Unauthorized:n}}=e;return s?r:n}}}]);
//# sourceMappingURL=190.e3030059.chunk.js.map