"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[716],{716:(e,s,r)=>{r.r(s),r.d(s,{default:()=>Y});var n=r(43),t=r(3),a=r(124);const o="users_container__hxERq",i="users_pages__+kauE",l="users_header__3xxBT",c="users_preloader__Z4WwO",u="users_user__riDGe";var d=r(248);const h="user_userContainer__hw+qZ",_="user_avatar__EyKbh",g="user_content__yoV02",m="user_name__wET-7",x="user_status__eHn-t",j="user_btn__-YlXt";var p=r(475),f=r(375),v=r(18),N=r(579);const P=e=>{let{user:{id:s,name:r,status:n,followed:t,photos:a},followingInProgress:o,follow:i,unfollow:l}=e,c=(0,v.A)(n,19);return(0,N.jsxs)("div",{className:h,children:[(0,N.jsx)("div",{className:_,children:(0,N.jsx)(p.N_,{to:"/profile/"+s,children:(0,N.jsx)("img",{src:a.large?a.large:"http://dummyimage.com/160",alt:""})})}),(0,N.jsxs)("div",{className:g,children:[(0,N.jsx)("div",{className:m,children:(0,N.jsx)(p.N_,{to:"/profile/"+s,children:r})}),(0,N.jsx)("div",{className:x,children:c}),(0,N.jsx)("div",{className:j,children:t?(0,N.jsx)("button",{disabled:o.some((e=>e===s)),onClick:()=>{l(s)},children:(0,N.jsx)(f.A,{name:"unfollow"})}):(0,N.jsx)("button",{disabled:o.some((e=>e===s)),onClick:()=>{i(s)},children:(0,N.jsx)(f.A,{name:"follow"})})})]})]})},w="paginator_pagesWrapper__TCjuM",b="paginator_pages__lf9Mj",k="paginator_activePage__hTuok",C="paginator_chevronIcons__bk--Y",z="paginator_invisability__W+kwS";const S=function(e){return(0,N.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",height:"1em",width:"1em",...e,children:(0,N.jsx)("path",{d:"M15 18l-6-6 6-6"})})};const A=function(e){return(0,N.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",height:"1em",width:"1em",...e,children:(0,N.jsx)("path",{d:"M9 18l6-6-6-6"})})},I=e=>{let{onPageChanged:s=()=>{},currentPage:r=1,totalItemsCount:n,pageSize:t,portionSize:a=8,portionNumber:o=1,setPortionNumber:i=()=>{}}=e,l=Math.ceil(n/t),c=[];for(let _=1;_<=l;_++)c.push(_);let u=Math.ceil(l/a),d=(o-1)*a+1,h=o*a;return(0,N.jsxs)("div",{className:w,children:[(0,N.jsx)("button",{"data-testid":o>1?"chevron":null,className:o>1?C+" "+b:C+" "+b+" "+z,onClick:()=>{i((e=>e-1)),s(h-a)},children:(0,N.jsx)(S,{})}),l>1&&c.filter((e=>e>=d&&e<=h)).map((e=>(0,N.jsx)("button",{"data-testid":"pageNumber",onClick:()=>s(e),className:r===e?k+" "+b:b,children:e},e))),(0,N.jsx)("button",{"data-testid":o<u?"chevron":null,className:o<u?C+" "+b:C+" "+b+" "+z,onClick:()=>{i((e=>e+1)),s(d+a)},children:(0,N.jsx)(A,{})})]})},F="search_searchContainer__rKZmv",M="search_buttonWrapper__-E0wW",E="search_inputWrapper__AILOD",W=e=>{let{search:s,placeHolderValue:r="",onSearch:t}=e;const a=(0,n.useRef)(null);return(0,N.jsxs)("div",{className:F,children:[(0,N.jsx)("div",{className:E,children:(0,N.jsx)("input",{ref:a,type:"text",value:s,placeholder:r,onChange:e=>{t(e.target.value)}})}),(0,N.jsx)("div",{className:M,children:(0,N.jsx)("button",{onClick:e=>{},children:(0,N.jsx)(f.A,{name:"search"})})})]})},L="menu_menu__MLBfE",U="menu_item__x8e31",y="menu_btn__5+NLh",q="menu_active__vfzGj",T=e=>{let{friend:s,setFriend:r,setPortionNumber:n}=e;const o=(0,t.wA)(),i=()=>{r(!s),o((0,a.Tm)(1)),n(1)};return(0,N.jsxs)("div",{className:L,children:[(0,N.jsx)("div",{className:U,children:(0,N.jsx)("button",{className:s?y+" "+q:y,onClick:i,children:"My friends"})}),(0,N.jsx)("div",{className:U,children:(0,N.jsx)("button",{className:s?y:y+" "+q,onClick:i,children:"Search for friends"})})]})};const B=e=>{let{totalUsersCount:s,pageSize:r,currentPage:t,isFetching:a,users:h,followingInProgress:_,search:g,friend:m,setFriend:x,follow:j,unfollow:p,onPageChanged:f,onSearch:v}=e,[w,b]=n.useState(1);return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:o,children:[(0,N.jsxs)("div",{className:i,children:[(0,N.jsx)("h1",{className:l,children:"Friends"}),(0,N.jsx)(W,{search:g,onSearch:v,placeHolderValue:"Enter a request"}),(0,N.jsx)("div",{className:u,children:a?(0,N.jsx)("div",{className:c,children:(0,N.jsx)(d.A,{})}):h.map((e=>(0,N.jsx)(P,{user:e,follow:j,unfollow:p,followingInProgress:_},e.id)))}),(0,N.jsx)(I,{onPageChanged:f,currentPage:t,totalItemsCount:s,pageSize:r,portionNumber:w,setPortionNumber:b})]}),(0,N.jsx)(T,{friend:m,setFriend:x,setPortionNumber:b})]})})};const G=(0,r(99).Mz)((e=>e.usersPage.users),(e=>e.filter((e=>!0)))),H=e=>e.usersPage.pageSize,V=e=>e.usersPage.totalUsersCount,Z=e=>e.usersPage.currentPage,D=e=>e.usersPage.isFetching,K=e=>e.usersPage.followingInProgress;var O=r(945),R=r(488),X=r(216);const Y=(0,t.Ng)((e=>({auth:e.auth.userId,users:G(e),pageSize:H(e),totalUsersCount:V(e),currentPage:Z(e),isFetching:D(e),followingInProgress:K(e)})),{follow:a.e6,unfollow:a.X2,requestUsers:a.AI})((e=>{let{auth:s,currentPage:r,pageSize:t,requestUsers:a,...o}=e;const[i,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(!0);n.useEffect((()=>{a({currentPage:r,pageSize:t,search:i,friend:c})}),[r,t,c]);return(0,O.Gi)((()=>a({currentPage:r,pageSize:t,search:i,friend:c})),[i],1500),(0,N.jsx)(R.A,{isAuthorize:!!s,components:{Authorized:(0,N.jsx)(B,{...o,currentPage:r,pageSize:t,search:i,friend:c,setFriend:u,onPageChanged:e=>{r!==e&&a({currentPage:e,pageSize:t})},onSearch:l}),Unauthorized:(0,N.jsx)(X.C5,{to:"/login"})}})}))},488:(e,s,r)=>{r.d(s,{A:()=>n});const n=e=>{let{isAuthorize:s,components:{Authorized:r,Unauthorized:n}}=e;return s?r:n}}}]);
//# sourceMappingURL=716.25c3487e.chunk.js.map