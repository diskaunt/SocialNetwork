"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[57],{57:(a,s,e)=>{e.r(s),e.d(s,{default:()=>P});var i=e(3),t=e(661),l=e(43);const d="Dialogs_dialogs__P9QVB",n="Dialogs_dialogsItems__GHkAb",c="Dialogs_messages__jluhN",m="Dialogs_content__mtwJX",r="Dialogs_messagesElements__PycBx",o="Dialogs_chatInputForm__r8AlS",g="Dialogs_btnWrapper__cRrq6",_={dialog:"DialogItem_dialog__j8fbf",active:"DialogItem_active__ss0sa",ava:"DialogItem_ava__j8cfk",name:"DialogItem_name__G+-KC"};var v=e(475),u=e(579);const h=a=>{const s="/dialogs/"+a.id;return(0,u.jsx)("div",{id:_.key,className:_.dialog,children:(0,u.jsxs)(v.k2,{className:a=>{let{isActive:s}=a;return s?_.active:""},to:s,children:[(0,u.jsx)("div",{className:_.ava,children:(0,u.jsx)("img",{src:a.avatar,alt:"ava"})}),(0,u.jsx)("div",{className:_.name,children:a.name})]})})},j="Message_message__asuSK",x="Message_ava__QoGXy",b="Message_name__cg7j+",N="Message_date__1XDFC",p="Message_text__nAlzc",D=a=>(0,u.jsxs)("div",{className:j,children:[(0,u.jsx)("div",{className:x,children:(0,u.jsx)("img",{src:a.avatar,alt:"ava"})}),(0,u.jsx)("div",{className:b,children:a.name||"name"}),(0,u.jsx)("div",{className:N,children:a.date}),(0,u.jsx)("div",{className:p,children:a.message})]});var f=e(775),k=e(304),M=e(545);const w=a=>((0,l.useEffect)((()=>{}),[]),(0,u.jsx)(f.lV,{onSubmit:a.onSubmit,initialValues:{},render:a=>{let{handleSubmit:s,form:e,submitting:i,pristine:t,values:l}=a;return(0,u.jsxs)("form",{onSubmit:s,className:o,children:[(0,u.jsx)(f.D0,{name:"newMessageBody",component:k.T,validate:(0,M.k3)(M.mw,(0,M.Ru)(100)),type:"text",placeholder:"Write a message..."}),(0,u.jsx)("div",{className:g,children:(0,u.jsx)("button",{type:"submit",disabled:i||t,children:"Send"})})]})}})),y=a=>{let s=a.dialogsPage.dialogs.map((a=>(0,u.jsx)(h,{id:a.id,name:a.name||"name",avatar:a.avatar||"https://i5.imageban.ru/out/2024/04/23/1bb19e775b66a89851ce626a69603c73.png"},a.id))),e=a.dialogsPage.messages.map((a=>(0,u.jsx)(D,{message:a.message,avatar:a.avatar||"https://i5.imageban.ru/out/2024/04/23/1bb19e775b66a89851ce626a69603c73.png",date:a.date},a.id)));const i=(0,l.useRef)(void 0);return(0,u.jsxs)("div",{className:d,children:[(0,u.jsx)("div",{className:n,children:s}),(0,u.jsx)("div",{className:c,children:(0,u.jsxs)("div",{className:m,children:[(0,u.jsx)("div",{className:r,children:e}),(0,u.jsx)(w,{onSubmit:async s=>{await a.addMessage(s.newMessageBody),i.current.scrollIntoView({behavior:"smooth",block:"start"})}}),(0,u.jsx)("div",{ref:i})]})})]})};var S=e(216);const I=a=>({auth:a.auth});const P=(0,e(923).Zz)((a=>(0,i.Ng)(I)((s=>s.auth.isAuth?(0,u.jsx)(a,{...s}):(0,u.jsx)(S.C5,{to:"/login"})))),(0,i.Ng)((a=>({dialogsPage:a.dialogsPage})),{addMessage:t.t}))(y)}}]);
//# sourceMappingURL=57.be12536c.chunk.js.map